<section>
  <div class = "container min-h-screen flex items-center justify-center p-4">
    <div class = "rounded-lg shadow-lg overflow-hidden w-full max-w-lg ">
      <div class = "bg-blue-600 dark:bg-blue-800 py-4 px-6">
        <h2 class = "text-white text-center text-2xl font-bold">Create an Account</h2>
        <p class = "text-blue-100 text-center dark:text-blue-200">Join us today!</p>
      </div>
      <!-- Must Add It For Making The Toaster Works  -->
      <p-toast />
      <form
        [formGroup] = "registerForm"
        (ngSubmit) = "submitForm()"
        class = "p-6 space-y-4"
      >
        <!-- Name Field -->
        <div class = "field">
          <label
            for = "name"
            class = "block text-sm font-medium  mb-1"
          >Full Name</label>
          <input
            pInputText
            formControlName = "name"
            id = "name"
            placeholder = "Enter your full name"
            [style] = "{'width': '100%'}"
          >
          <!-- Errors MSG Alert -->
          @let nameControl = registerForm.get('name');
          @if (nameControl?.touched && nameControl?.errors) {
            <div class = "pt-3">
              @if (nameControl?.getError('required')) {
                <p-message severity = "error">Is not allowed to be empty</p-message>
              }
              @if (nameControl?.getError('minlength')) {
                <p-message severity = "error">Minimum 2 characters</p-message>
              }
              @if (nameControl?.getError('maxlength')) {
                <p-message severity = "error">Maximum 30 characters</p-message>
              }
            </div>
          }

        </div>

        <!-- Email Field -->
        <div class = "field">
          <label
            for = "email"
            class = "block text-sm font-medium mb-1"
          >Email Address</label>
          <input
            pInputText
            formControlName = "email"
            id = "email"
            placeholder = "your.email@example.com"
            [style] = "{'width': '100%'}"
          >
          <!-- Errors MSG Alert -->
          @let emailControl = registerForm.get('email');
          @if (emailControl?.touched && emailControl?.errors) {
            <div class = "pt-3">
              @if (emailControl?.getError('required')) {
                <p-message severity = "error">Is not allowed to be empty</p-message>
              }
              @if (emailControl?.getError('email')) {
                <p-message severity = "error">Must be a valid email format</p-message>
              }
            </div>
          }
        </div>

        <!-- Password Field -->
        <div class = "field">
          <label
            for = "password"
            class = "block text-sm font-medium mb-1"
          >Password</label>
          <p-password
            formControlName = "password"
            id = "password"
            [style] = "{'width': '100%'}"
            [toggleMask] = "true"
            placeholder = "Create a password"
            inputStyleClass = "w-full"
            [feedback] = "false"
          ></p-password>
          <!-- Errors MSG Alert -->
          @let passwordControl = registerForm.get('password');
          @if (passwordControl?.touched && passwordControl?.errors) {
            <div class = "pt-3">
              @if (passwordControl?.getError('required')) {
                <p-message severity = "error">Is not allowed to be empty</p-message>
              }
              @if (passwordControl?.getError('pattern')) {
                <p-message severity = "error">Must contain at least 8 characters</p-message>
                <p-message severity = "error">Must include at least one uppercase letter, one lowercase letter, one digit, and one special character.</p-message>
              }
            </div>
          }
        </div>

        <!-- Confirm Password Field -->
        <div class = "field">
          <label
            for = "repassword"
            class = "block text-sm font-medium mb-1"
          >Confirm Password</label>
          <p-password
            formControlName = "rePassword"
            id = "repassword"
            [style] = "{'width': '100%'}"
            [toggleMask] = "true"
            placeholder = "Confirm your password"
            inputStyleClass = "w-full"
            [feedback] = "false"
          ></p-password>
          <!-- Errors MSG Alert -->
          @let rePasswordControl = registerForm.get('rePassword');
          @if (rePasswordControl?.touched && rePasswordControl?.errors) {
            <div class = "pt-3">
              @if (rePasswordControl?.errors) {
                <p-message severity = "error">Compare Not Right</p-message>
              }
            </div>
          }
        </div>

        <!-- Date of Birth Field -->
        <div class = "field">
          <label
            for = "dob"
            class = "block text-sm font-medium mb-1"
          >Date of Birth</label>
          <p-datepicker
            formControlName = "dateOfBirth"
            inputId = "dob"
            name = "dob"
            [showIcon] = "true"
            dateFormat = "dd.mm.yy"
            [style] = "{'width': '100%'}"
            inputStyleClass = "w-full"
            placeholder = "Enter your Birth Data"
          ></p-datepicker>

          @let dateControl = registerForm.get('dateOfBirth');
          @if (dateControl?.touched && dateControl?.errors) {
            <div class = "pt-3">
              @if (dateControl?.getError('required')) {
                <p-message severity = "error">Is not allowed to be empty</p-message>
              }
            </div>
          }
        </div>

        <!-- Gender Field -->
        <div class = "field">
          <label class = "block text-sm font-medium mb-1">Gender</label>
          <div class = "flex gap-4">
            <p-radioButton
              formControlName = "gender"
              name = "gender"
              value = "male"
              inputId = "male"
            ></p-radioButton>
            <label
              for = "male"
            >Male</label>

            <p-radioButton
              formControlName = "gender"
              name = "gender"
              value = "female"
              inputId = "female"
            ></p-radioButton>
            <label
              for = "female"
            >Female</label>
          </div>
          @let genderControl = registerForm.get('gender');
          @if (genderControl?.touched && genderControl?.errors) {
            <div class = "pt-3">
              @if (genderControl?.getError('required')) {
                <p-message severity = "error">Is not allowed to be empty</p-message>
              }
            </div>
          }
        </div>
        <!-- Submit Button -->
        <div class = "pt-2">
          <p-button
            type = "submit"
            label = "Register"
            [disabled] = "registerForm.invalid"
            styleClass = "w-full p-button-raised"
          ></p-button>
        </div>
      </form>

      <div class = "px-6 py-4 text-center">
        <p class = "text-sm ">
          Already have an account?
          <a
            routerLink = "/login"
            class = "font-medium text-blue-600 hover:text-blue-500"
          >
            Sign in
          </a>
        </p>
      </div>
    </div>
  </div>
</section>
